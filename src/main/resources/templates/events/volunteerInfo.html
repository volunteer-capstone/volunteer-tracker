<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="fragments/header :: my-header('Volunteer Contact Info')" />
    <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico" />
</head>
<body>
<th:block th:replace="fragments/navbar :: bulma-navbar" />

<div class="container">
    <div class="content">
        <h3>Volunteers signed up for <span th:text="${event.title}"></span></h3>
    </div>

    <div class="columns is-mobile">
        <div class="column"><h1 class="title" th:text="${event.title}"></h1></div>
        <div class="column"><h1 class="title" th:text="${#dates.format(event.start, 'MMM-dd-yyyy HH:mm')} + ' - '+ ${#dates.format(event.stop, 'HH:mm')}"></h1></div>
    </div>
    <hr/>

    <table class="table" style="margin: auto">
        <thead>
        <tr>
            <th>Position</th>
            <th>Start Time</th>
            <th>End Time</th>
            <th>Total Hours</th>
            <th></th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        <th:block th:each="position : ${volunteers.keySet()}">
            <tr style="background: lightblue">
                <td th:text="${position.title}"></td>
                <td th:text="${#dates.format(position.start, 'MMM-dd-yyyy HH:mm')} + ' - '+${#dates.format(position.end, 'HH:mm')}"></td>
                <td th:text="${event.posHours(position.start, position.end)}"></td>
                <td></td>
            </tr>
            <th></th>
            <th>Name</th>
            <th>Email</th>
            <th>Phone Number</th>
            <th>Profile</th>
                <th:block th:each="userPosition : ${volunteers.get(position)}">
            <tr>
                <td><strong>Volunteer</strong></td>
                <td th:text="${userPosition.getUser().getFirstName()} + ' ' + ${userPosition.getUser().getLastName()}"></td>
                <td th:text="${userPosition.getUser().getEmail()}"></td>
                <td th:text="${userPosition.getUser().getPhoneNumber()}"></td>
                <td><a class="button is-info" th:href="@{/users/{id}/profile(id=${userPosition.getUser().getId()})}">View Profile</a></td>
            </tr>
                </th:block>
        </th:block>
        </tbody>
    </table>
</div>

<!--<div class = "footerSpace"><th:block th:replace="fragments/footer :: footer" /></div>-->
</body>
</html>